\prg_new_conditional:Nnn
  \module_foo:n
  { p, T, F, TF }
  { \prg_return_true: }
\cs_undefine:N
  \module_foo:nTF
\prg_generate_conditional_variant:Nnn  % error on this line
  \module_foo:n
  { V }
  { TF }
