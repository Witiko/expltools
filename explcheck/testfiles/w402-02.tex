\prg_new_conditional:Nnn
  \__module_foo:n
  { p, T, F, TF }
  { \prg_return_true: }
\prg_generate_conditional_variant:Nnn  % warning on this line
  \__module_foo:n
  { V }
  { TF }
\__module_foo:nTF
  { foo }
  { bar }
  { baz }
